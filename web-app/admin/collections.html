<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collectes & Itin√©raires - Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/admin.css">
</head>

<body>
    <div class="admin-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="sidebar-logo-icon">üóëÔ∏è</div>
                    <span>Waste AI</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Menu Principal</div>
                    <a href="dashboard.html" class="nav-item">
                        <span class="nav-icon">üìä</span>
                        <span>Tableau de bord</span>
                    </a>
                    <a href="map.html" class="nav-item">
                        <span class="nav-icon">üó∫Ô∏è</span>
                        <span>Carte Interactive</span>
                    </a>
                    <a href="reports.html" class="nav-item">
                        <span class="nav-icon">üìã</span>
                        <span>Gestion Signalements</span>
                    </a>
                    <a href="collections.html" class="nav-item active">
                        <span class="nav-icon">üöõ</span>
                        <span>Collectes & Itin√©raires</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Administration</div>
                    <a href="users.html" class="nav-item">
                        <span class="nav-icon">üë•</span>
                        <span>Gestion Utilisateurs</span>
                    </a>
                    <a href="analytics.html" class="nav-item">
                        <span class="nav-icon">üìà</span>
                        <span>Analyses & Rapports</span>
                    </a>
                    <a href="settings.html" class="nav-item">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span>Param√®tres</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar" id="user-avatar">A</div>
                    <div class="user-info">
                        <div class="user-name" id="user-name">Admin User</div>
                        <div class="user-role" id="user-role">Administrateur</div>
                    </div>
                    <button class="btn-icon btn-secondary" id="logout-btn" title="D√©connexion">üö™</button>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <div>
                    <h1 class="page-title">Collectes & Itin√©raires</h1>
                    <p class="page-subtitle">Planification et optimisation des tourn√©es</p>
                </div>
                <button class="btn btn-primary">
                    <span>üîÑ</span>
                    Optimiser Routes
                </button>
            </div>

            <div class="grid grid-3 mb-xl">
                <div class="stat-card">
                    <div class="stat-label">Collectes Aujourd'hui</div>
                    <div class="stat-value">8</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">En Cours</div>
                    <div class="stat-value" style="color: var(--accent-blue)">3</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Compl√©t√©es</div>
                    <div class="stat-value" style="color: var(--success-green)">5</div>
                </div>
            </div>

            <div class="grid grid-2 gap-lg">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Tourn√©es Planifi√©es</h3>
                    </div>
                    <div class="card-body">
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div class="list-item">
                                <div class="list-item-icon"
                                    style="background: rgba(34, 197, 94, 0.1); color: var(--primary-green);">üöõ</div>
                                <div class="list-item-content">
                                    <div class="list-item-title">Tourn√©e Centre-Ville</div>
                                    <div class="list-item-subtitle">Agent: Fatima Meziane ‚Ä¢ 12 points ‚Ä¢ 15.3 km</div>
                                </div>
                                <span class="badge badge-info">En cours</span>
                            </div>

                            <div class="list-item">
                                <div class="list-item-icon"
                                    style="background: rgba(59, 130, 246, 0.1); color: var(--accent-blue);">üöõ</div>
                                <div class="list-item-content">
                                    <div class="list-item-title">Tourn√©e Zone Industrielle</div>
                                    <div class="list-item-subtitle">Agent: Ahmed Benali ‚Ä¢ 8 points ‚Ä¢ 22.5 km</div>
                                </div>
                                <span class="badge badge-warning">Planifi√©e</span>
                            </div>

                            <div class="list-item">
                                <div class="list-item-icon"
                                    style="background: rgba(16, 185, 129, 0.1); color: var(--success-green);">üöõ</div>
                                <div class="list-item-content">
                                    <div class="list-item-title">Tourn√©e Quartier R√©sidentiel</div>
                                    <div class="list-item-subtitle">Agent: Karim Said ‚Ä¢ 15 points ‚Ä¢ 18.7 km</div>
                                </div>
                                <span class="badge badge-success">Termin√©e</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Optimisation IA</h3>
                    </div>
                    <div class="card-body">
                        <div class="mb-lg">
                            <div class="flex justify-between mb-sm">
                                <span class="text-gray">Efficacit√© des routes</span>
                                <span class="font-bold text-green">92%</span>
                            </div>
                            <div
                                style="height: 8px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden;">
                                <div
                                    style="height: 100%; width: 92%; background: linear-gradient(90deg, var(--primary-green), var(--dark-green));">
                                </div>
                            </div>
                        </div>

                        <div class="mb-lg">
                            <div class="flex justify-between mb-sm">
                                <span class="text-gray">R√©duction distance</span>
                                <span class="font-bold text-green">28%</span>
                            </div>
                            <div
                                style="height: 8px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden;">
                                <div
                                    style="height: 100%; width: 28%; background: linear-gradient(90deg, var(--accent-blue), var(--primary-green));">
                                </div>
                            </div>
                        </div>

                        <div class="mb-lg">
                            <div class="flex justify-between mb-sm">
                                <span class="text-gray">Gain de temps</span>
                                <span class="font-bold text-green">35 min</span>
                            </div>
                            <div
                                style="height: 8px; background: rgba(255,255,255,0.1); border-radius: 999px; overflow: hidden;">
                                <div
                                    style="height: 100%; width: 65%; background: linear-gradient(90deg, var(--warning-yellow), var(--primary-green));">
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                            Voir D√©tails Optimisation
                        </button>
                    </div>
                </div>
            </div>

            <div class="card mt-xl">
                <div class="card-header">
                    <h3 class="card-title">Historique des Collectes</h3>
                </div>
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Agent</th>
                                <th>Zone</th>
                                <th>Points</th>
                                <th>Distance</th>
                                <th>Dur√©e</th>
                                <th>Volume</th>
                                <th>Statut</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>02/12/2025 08:30</td>
                                <td>Fatima Meziane</td>
                                <td>Centre-Ville</td>
                                <td>12</td>
                                <td>15.3 km</td>
                                <td>2h 15min</td>
                                <td>24.5 m¬≥</td>
                                <td><span class="badge badge-success">Termin√©e</span></td>
                            </tr>
                            <tr>
                                <td>02/12/2025 09:00</td>
                                <td>Ahmed Benali</td>
                                <td>Zone Industrielle</td>
                                <td>8</td>
                                <td>22.5 km</td>
                                <td>-</td>
                                <td>-</td>
                                <td><span class="badge badge-info">En cours</span></td>
                            </tr>
                            <tr>
                                <td>01/12/2025 14:00</td>
                                <td>Karim Said</td>
                                <td>Quartier R√©sidentiel</td>
                                <td>15</td>
                                <td>18.7 km</td>
                                <td>3h 05min</td>
                                <td>31.2 m¬≥</td>
                                <td><span class="badge badge-success">Termin√©e</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/app.js"></script>
    <script>
        if (!Utils.requireAuth('ADMIN')) {
            window.location.href = 'login.html';
        }
    </script>
</body>

</html>